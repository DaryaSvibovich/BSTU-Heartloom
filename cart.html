<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./index.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Fondamento:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Forum:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap"
    />
  </head>
  <body>
    <div class="laptop-1" id="second">
      <div class="shapka">
        <div class="logotip">
          <div class="heartloom">Heartloom</div>
          <img
            class="pngtree-perfume-logo-png-image-icon"
            alt=""
            src="./assets/png/pngtreeperfumelogopngimage-3969866-1@2x.png"
          />
        </div>
        <div class="shapka1">
          <nav class="menu">
        
            <input id="menu-toggle" type="checkbox">
            <label class="menu-btn" for="menu-toggle">
              <span></span>
            </label>
    
            <ul class="menu__box">
              <li><a class="menu__item" href="index.html#h">Хит продаж</a></li>
              <li><a class="menu__item" href="cart.html">Корзина</a></li>
              <li><a class="menu__item" href="index.html#v">Видео</a></li>
              <li><a class="menu__item" href="index.html#vi">Выгодно</a></li>
              <li><a class="menu__item" href="index.html#c">Каталог</a></li>
              <li><a class="menu__item" href="index.html#s">Поддержка</a></li>
            </ul>
          </nav>
          <a href="index.html#h"><div class="div">Хит продаж</div></a>
          <a href="cart.html"><img
            class="pngtree-gray-linear-shopping-c-icon"
            alt=""
            src="./assets/png/pngtreegraylinearshoppingcartvectoriconimage-2292575-1@2x.png"
          />
          </a>
          <a href="index.html#v"><div class="div1">Видео</div></a>
          <a href="index.html#vi"><div class="div2">Выгодно</div></a>
          <img class="poisk-icon" alt="" src="./assets/png/poisk@2x.png" />

          <a href="index.html#c"><div class="div3">Каталог</div></a>
          <a href="index.html#s"><div class="div4">Поддержка</div></a>
        </div>
      </div>
      <div class="cart">
        <h1>Корзина</h1>
        <form>
          <label for="products">Выберите товар:</label>
          <select id="products">
            <option value="">--Выберите товар--</option>
            <option value="Духи Armani" data-price="630">Духи Armani</option>
            <option value="Вода Versace" data-price="470">Вода Versace</option>
            <option value="Вода Tom Ford" data-price="540">Вода Tom Ford</option>
            <option value="Парфюмерная вода BRIONI" data-price="389.98">Парфюмерная вода BRIONI</option>
            <option value="Antonio Banderas Blue Seduction" data-price="65.20">Antonio Banderas Blue Seduction</option>
            <option value="Jo Malone London Myrrh & Tonka" data-price="400.50">Jo Malone London Myrrh & Tonka</option>
            <option value="Bvlgari Man Wood Essence" data-price="227.90">Bvlgari Man Wood Essence</option>
            <option value="Gucci Guilty Cologne pour Homme" data-price="419.50">Gucci Guilty Cologne pour Homme</option>
            <option value="Guess 1981 for Men" data-price="105">Guess 1981 for Men</option>
            <option value="Туалетная вода ATLANTICA Alpha & Omega" data-price="75">Туалетная вода ATLANTICA Alpha & Omega </option>
            <option value="Calvin Klein CK One" data-price="135">Calvin Klein CK One</option>
          </select>
          <label for="quantity">Количество:</label>
          <input type="number" id="quantity" min="1" max="10">
          <br>
          <button type="button" id="add-to-cart">Добавить в корзину</button>
        </form>
        <ul id="cart"></ul>
        <p id="total"></p>
        <button class="pay" onclick="finish()">ОПЛАТИТЬ</button>    
      </div>
      <script>
        // Находим элементы HTML:
        const productsSelect = document.getElementById('products');
        const quantityInput = document.getElementById('quantity');
        const addToCartButton = document.getElementById('add-to-cart');
        const cartList = document.getElementById('cart');
        const total = document.getElementById('total');

        // Объявляем объект корзины:
        const cart = {
        items: [],
        
        // Метод для добавления товара в корзину:
        addItem(item) {
            this.items.push(item);
        },
        
        // Метод для подсчета общей стоимости товаров в корзине:
        getTotal() {
            return this.items.reduce((total, item) => {
            return total + (item.price * item.quantity);
            }, 0);
        },
        
        // Метод для отображения корзины:
        render() {
            cartList.innerHTML = '';
            this.items.forEach(item => {
            const li = document.createElement('li');
            li.textContent = `${item.quantity} x ${item.product} - ${item.price * item.quantity} руб.`;
            cartList.appendChild(li);
            });
            
            total.textContent = `Общая стоимость: ${this.getTotal()} руб.`;
        }
        };

        // Обработчик события клика на кнопку "Добавить в корзину":
        addToCartButton.addEventListener('click', () => {
        const product = productsSelect.value;
        const quantity = quantityInput.value;
        
        if (product && quantity) {
            const price = parseFloat(productsSelect.options[productsSelect.selectedIndex].getAttribute('data-price'));
            
            // Создаем объект товара и добавляем его в корзину:
            const item = { product, quantity, price };
            cart.addItem(item);
            
            // Отображаем корзину:
            cart.render();
            
            // Очищаем поля выбора товара и ввода количества:
            productsSelect.value = '';
            quantityInput.value = '';
        }
        });
        function finish(){
            alert('Ваш заказ оформлен');
            location.reload();
        }
      </script>
    </div>
</body>
</html> 